<!DOCTYPE html>
<html>
<head>
<title>Floreciente</title>
<meta content="width=device-width, initial-scale=1.0" name="viewport" >
<meta charset="UTF-8">
<meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>
<title>Floreciente</title>
<link rel="stylesheet" href="style.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Droid+Sans" rel="stylesheet">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body data-spy="scroll" data-target="#myScrollspy">

<nav class="navbar navbar-fixed-top" role="navigation">
<div class="container-fluid">
  <!-- add header -->
  <div class="navbar-header">

       
      <a class="navbar-brand" href="index.html"><img src="flogo.jpg" class="img-responsive img-square" width="50" height="50"> </a>
      <a class="navbar-brand navbar-bg logoname" href="index.html">Floreciente</a>
  </div>

  
  <!-- menu items -->
  <div class="collapse navbar-collapse" id="navbar1">
        <ul class="nav navbar-nav navbar-right">
           <button class="btn btn-default btn-md pull-right" onclick="window.location='users/login.php'">Login</button>
            
        </ul>
    </div>
   
</div>
</nav>

<div class="container-fluid bg1" name="toTop" id="toPos">
<div class="shadow"></div>
<!--
<div class="row row_1">
<div class="col-sm-12">
Everyone's Personal Shopper
</div>
</div>
-->
<div class="row row_2">
<div class="col-sm-12">
<h1>Welcome to Floreciente!</h1>
</div>
</div>
<div class="row row_2">
<div class="col-sm-12">
<h1>Get instant services at your doorstep in as little as an hour</h1>
</div>
</div>

<div class="row row_3">
      <div class="col-md-8 col-md-offset-1">
          <div id="custom-search-input">
              <div class="input-group col-md-offset-3">
                  <span id="pac-container">

                  <input type="text" id="txtPlaces" class="form-control input-md" placeholder="Enter your location" />

              </span>
                  <span class="input-group-btn" >
                    
                  <button class="btn btn-danger btn-md" type="button" id="search">
                      <i class="glyphicon glyphicon-search" onclick="window.location='http://localhost/Floreciente/competition-master/index.html'"></i>
                  </button>
              </span>
              </div>




          </div>
      </div>
  </div>
<div class="row row_4">

<p id="demo" class="newn1"><center class="newnew">Detect current location<span class="glyphicon glyphicon-screenshot" onclick="getLocation()" data-toggle="modal" data-target="#myModal"></center></p>
<div class="modal fade" id="myModal" role="dialog">
<div class="modal-dialog modal-md">

<div class="modal-content">

<div class="modal-header">Your Location
<button type="button" class="close" data-dismiss="modal">&times;</button>
</div>
<div class="modal-body">
<div id="mapholder"></div>
<script src="https://maps.google.com/maps/api/js?sensor=true&key=AIzaSyBKlaIxOl1ps19NOR6kcuTbUF9aqyLD984"></script>
<script>
var x = document.getElementById("demo");
function getLocation() {
if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(showPosition, showError);
} else { 
  x.innerHTML = "Geolocation is not supported by this browser.";
}
}

function showPosition(position) {
lat = position.coords.latitude;
lon = position.coords.longitude;
localStorage.setItem('lat',lat);
localStorage.setItem('lon',lon);
latlon = new google.maps.LatLng(lat, lon)
mapholder = document.getElementById('mapholder')
mapholder.style.height = '250px';
mapholder.style.width = '550px';


var myOptions = {
center:latlon,zoom:14,
mapTypeId:google.maps.MapTypeId.ROADMAP,
mapTypeControl:false,

navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}
}

var map = new google.maps.Map(document.getElementById("mapholder"), myOptions);
var marker = new google.maps.Marker({
  position:latlon,
  map:map,
  draggable: true
  
  });
   
   google.maps.event.addListener(marker, 'dragend', function(ev){
   alert(latlon.lat() + ' ' + latlon.lon()); // always the same LatLng-Object...
   alert(marker.getPosition()); // new LatLng-Object after dragend-event...
      localStorage.setItem('marker',marker.getPosition());
});

};



function showError(error) {
switch(error.code) {
  case error.PERMISSION_DENIED:
      x.innerHTML = "User denied the request for Geolocation."
      break;
  case error.POSITION_UNAVAILABLE:
      x.innerHTML = "Location information is unavailable."
      break;
  case error.TIMEOUT:
      x.innerHTML = "The request to get user location timed out."
      break;
  case error.UNKNOWN_ERROR:
      x.innerHTML = "An unknown error occurred."
      break;
}
}
</script>
<button type="button" class="btn btn-md btn-danger" id="class1" onclick="savedata()">Confirm Location</button>
<script>
function savedata(){
var array=[lat,lon];
localStorage.setItem('obj',array);

window.location="http://localhost/Floreciente/competition-master/index.html";

}
</script>

</div>
</div>
</div>
</div>
</div>
<div class="row row_20">
<div class="col-md-6 col-md-offset-5">
<button type="button" class="btn btn-md btn-danger b78" onclick="window.location='http://localhost/Floreciente/competition-master/index.html'">Continue</button>
</div>
 
</div>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDXnunhscL2jKBg62KkqAhJwSMXhDoN9DE&libraries=places"></script>
<script type="text/javascript">
  google.maps.event.addDomListener(window, 'load', function() {
      var places = new google.maps.places.Autocomplete(document.getElementById('txtPlaces'));
      google.maps.event.addListener(places, 'place_changed', function() {
          var place = places.getPlace();
          var address = place.formatted_address;
          var latitude = place.geometry.location.A;
          var longitude = place.geometry.location.F;
          localStorage.setItem('address',place.formatted_address);
           
          /*  var mesg = "Address: " + address;
            mesg += "\nLatitude: " + latitude;
            mesg += "\nLongitude: " + longitude;
            alert(mesg);*/
      });
  });

</script>

</body>
<script>
$(function(){
var navbar = $('.navbar');
$(window).scroll(function(){
  if($(window).scrollTop() <= 40){
    navbar.css('box-shadow', 'none');
  } else {
    navbar.css('box-shadow', '0px 4px 20px rgba(0, 0, 0, 0.3)'); 
  }
});  
})
$(function(){

// name your elements here
var stickyElement   = '.panel-affix',   // the element you want to make sticky
bottomElement   = '#fake-footer'; // the bottom element where you want the sticky element to stop (usually the footer) 

// make sure the element exists on the page before trying to initalize
if($( stickyElement ).length){
$( stickyElement ).each(function(){

// let's save some messy code in clean variables
// when should we start affixing? (the amount of pixels to the top from the element)
var fromTop = $( this ).offset().top, 
  // where is the bottom of the element?
  fromBottom = $( document ).height()-($( this ).offset().top + $( this ).outerHeight()),
  // where should we stop? (the amount of pixels from the top where the bottom element is)
  // also add the outer height mismatch to the height of the element to account for padding and borders
  stopOn = $( document ).height()-( $( bottomElement ).offset().top)+($( this ).outerHeight() - $( this ).height()); 

// if the element doesn't need to get sticky, then skip it so it won't mess up your layout
if( (fromBottom-stopOn) > 200 ){
  // let's put a sticky width on the element and assign it to the top
  $( this ).css('width', $( this ).width()).css('top', 0).css('position', '');
  // assign the affix to the element
  $( this ).affix({
    offset: { 
      // make it stick where the top pixel of the element is
      top: fromTop - 80,  
      // make it stop where the top pixel of the bottom element is
      bottom: stopOn
    }
  // when the affix get's called then make sure the position is the default (fixed) and it's at the top
  }).on('affix.bs.affix', function(){ $( this ).css('top', '80px').css('position', ''); });
}
// trigger the scroll event so it always activates 
$( window ).trigger('scroll'); 
}); 
}

});

//Offset scrollspy height to highlight li elements at good window height
$('body').scrollspy({
offset: 80
});

//Smooth Scrolling For Internal Page Links
$(function() {
$('a[href*=#]:not([href=#])').click(function() {
if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
var target = $(this.hash);
target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
if (target.length) {
$('html,body').animate({
scrollTop: target.offset().top
}, 1000);
return false;
}
}
});
});



</script>
</body>
</html>